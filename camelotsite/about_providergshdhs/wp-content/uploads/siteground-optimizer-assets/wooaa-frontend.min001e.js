(function(a){a.fn.serializeArrayAll=function(){var b=/\r?\n/g;return this.map(function(){return this.elements?a.makeArray(this.elements):this}).map(function(e,d){var c=a(this).val();if(c==null)return c==null;if(this.type==='checkbox'){if(this.checked)return{name:this.name,value:this.checked?this.value:''}}else if(this.type==='radio'){if(this.checked)return{name:this.name,value:this.checked?this.value:''}}else return a.isArray(c)?a.map(c,function(a,c){return{name:d.name,value:a.replace(b,'\r\n')}}):{name:d.name,value:c.replace(b,'\r\n')}}).get()},a(document).on('wooaa_adding_to_cart',function(b,a){a.removeClass('added').addClass('loading')}),a(document).on('wooaa_added_to_cart',function(b,c,d,a){a.removeClass('loading').addClass('added')}),a(document).on('click','.single_add_to_cart_button:not('+wooaa_vars.ignore+')',function(i){var f=!1,b=a(this),c=b.closest('form.cart'),g,d,e,h;if(wooaa_vars.product_types!==void 0&&(g=wooaa_vars.product_types.split(','),g.includes('all')?f=!0:g.forEach(function(a){b.is('.product-type-'+a+' .single_add_to_cart_button')&&(f=!0)})),f)return i.preventDefault(),d={},e=c.find('input:not([name="product_id"]), select, button, textarea').serializeArrayAll()||0,a.each(e,function(d,a){a.name==='add-to-cart'&&(a.name='product_id',a.value=c.find('input[name=variation_id]').val()||c.find('[name=variation_id]').val()||c.find('input.variation_id').val()||c.find('.variation_id').val()||c.find('input[name=add-to-cart]').val()||c.find('[name=add-to-cart]').val()||b.val())}),a(document.body).trigger('wooaa_adding_to_cart',[b,e]),a(document.body).trigger('adding_to_cart',[b,e]),a.each(e,function(b,a){a.name!==''&&(d[a.name]=a.value)}),b.is('.product-type-variable .single_add_to_cart_button')&&(h={},c.find('[name^="attribute_"]').each(function(){var b=a(this).attr('name');h[b]=a(this).val()}),d.variation=h),d.action='wooaa_add_to_cart',d.nonce=wooaa_vars.nonce,a.post(wooaa_vars.ajax_url,d,function(c){if(!c)return;if(c.error&&c.product_url){window.location=c.product_url;return}if(wooaa_vars.cart_redirect_after_add==='yes'){window.location=wooaa_vars.cart_url;return}a(document.body).trigger('added_to_cart',[c.fragments,c.cart_hash,b]),a(document.body).trigger('wooaa_added_to_cart',[c.fragments,c.cart_hash,b])}),!1})})(jQuery)